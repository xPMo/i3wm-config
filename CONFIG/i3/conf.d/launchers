
# ==============================================
# Program Launchers
# ==============================================

# Printscreen (maim) whole-screen / selection / window
bindsym Print exec --no-startup-id maim-dunst
bindsym Shift+Print exec --no-startup-id "maim-dunst -s"
bindsym Control+Print exec --no-startup-id "maim-dunst -w"

# Record screen: parec, ffmpeg
bindsym $mod+Print exec --no-startup-id sloprecord-dunst

# i3-input (for marking, etc)
bindsym $mod+i exec --no-startup-id i3-input
bindsym $mod+m exec --no-startup-id i3-input -F 'mark %s' -l 1 -P 'Mark: '
bindsym $mod+grave exec --no-startup-id i3-input -F '[con_mark=%s] focus' -l 1 -P 'Focus mark: ' 

# Standalone launchers:
bindsym Shift+XF86Mail exec exec xdg-open $HOME
bindsym Shift+XF86HomePage exec exec firefox -P -no-remote hidden
bindsym $mod+$mod2+w exec exec firefox -P -no-remote hidden
bindsym $mod+Shift+t exec exec urxvt

# Standalone focuslaunchers:
bindsym XF86Mail exec --no-startup-id exec i3focuslaunch thunderbird
bindsym XF86Search exec --no-startup-id exec i3focuslaunch catfish
bindsym XF86Explorer exec --no-startup-id exec i3focuslaunch catfish
bindsym XF86Calculator exec --no-startup-id exec echo
bindsym XF86Tools exec --no-startup-id exec i3focuslaunch clementine
bindsym XF86HomePage exec --no-startup-id exec i3focuslaunch firefox Firefox
# Terminal is the exception, I want more complex behavior
# (launch another if currently focused, and allow launching anywhere if necessary)
bindsym $mod+Return exec --no-startup-id exec i3switchlaunch urxvt "URxvt" "11:~$"

bindsym $mod+slash exec "exec rofi -show"

# focus/launch mode
set $mode_launch Focus (_) / Launch (⇧ + _)
bindsym $mod+x mode "$mode_launch"
mode "$mode_launch" {
	bindsym Escape mode "default"
	
	# Launch (exception for arandr), mode default
	bindsym Shift+a exec --no-startup-id exec file-roller, mode "default"
	bindsym Shift+b exec --no-startup-id exec blueman-manager, mode "default"
	bindsym Shift+c exec --no-startup-id exec pkill compton, mode "default"
	bindsym Shift+d exec --no-startup-id exec sh -c ~/.local/bin/i3focuslaunch arandr randr, mode "default"
	bindsym Shift+e exec exec nvim-gtk, mode "default"
	bindsym Shift+f exec exec xdg-open ~, mode "default"
	bindsym Shift+g exec exec gimp, mode "default"
	bindsym Shift+h exec --no-startup-id exec echo, mode "default"
	bindsym Shift+i exec --no-startup-id exec echo, mode "default"
	bindsym Shift+j exec --no-startup-id exec echo, mode "default"
	bindsym Shift+k exec --no-startup-id exec echo, mode "default"
	bindsym Shift+l exec --no-startup-id exec libreoffice, mode "default"
	bindsym Shift+m exec --no-startup-id exec thunderbird, mode "default"
	bindsym Shift+n exec --no-startup-id exec echo, mode "default"
	bindsym Shift+o exec --no-startup-id exec libreoffice, mode "default"
	bindsym Shift+p exec --no-startup-id exec clementine, mode "default"
	bindsym Shift+q mode "default"
	bindsym Shift+r exec --no-startup-id exec echo, mode "default"
	bindsym Shift+s exec --no-startup-id exec steam, mode "default"
	bindsym Shift+t exec --no-startup-id exec torbrowser-launcher, mode "default"
	bindsym Shift+u exec --no-startup-id exec echo, mode "default"
	bindsym Shift+v exec --no-startup-id exec pavucontrol, mode "default"
	bindsym Shift+w exec --no-startup-id exec firefox, mode "default"
	bindsym Shift+x exec --no-startup-id exec xfce4-appfinder, mode "default"
	bindsym Shift+y exec --no-startup-id exec echo, mode "default"
	bindsym Shift+z exec --no-startup-id exec echo, mode "default"

	# Focus (exception dmenu/compton), mode "default"
	# The "i3focusLaunch" script will focus $2 if $2, else focus program name
	bindsym a exec --no-startup-id exec ~/.local/bin/i3focuslaunch file-roller, mode "default"
	bindsym b exec --no-startup-id exec ~/.local/bin/i3focuslaunch blueman-manager, mode "default"
	bindsym c exec --no-startup-id exec compton -b, mode "default"
	bindsym d exec --no-startup-id exec dmenu_run -fn 'Noto Mono-8', mode "default"
	bindsym e exec --no-startup-id exec i3focuslaunch nvim-gtk Neovim, mode "default"
	bindsym f exec --no-startup-id exec i3focuslaunch pcmanfm, mode "default"
	bindsym g exec --no-startup-id exec i3focuslaunch gimp, mode "default"
	bindsym h exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym i exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym j exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym k exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym l exec --no-startup-id exec i3focuslaunch libreoffice, mode "default"
	bindsym m exec --no-startup-id exec i3focuslaunch thunderbird, mode "default"
	bindsym n exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym o exec --no-startup-id exec i3focuslaunch libreoffice, mode "default"
	bindsym p exec --no-startup-id exec i3focuslaunch clementine, mode "default"
	bindsym q mode "default"
	bindsym r exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym s exec --no-startup-id exec i3focuslaunch steam, mode "default"
	bindsym t exec --no-startup-id exec i3focuslaunch torbrowser-launcher, mode "default"
	bindsym u exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym v exec --no-startup-id exec i3focuslaunch pavucontrol, mode "default"
	bindsym w exec --no-startup-id exec i3focuslaunch firefox Firefox, mode "default"
	bindsym x exec --no-startup-id exec i3focuslaunch xfce4-appfinder, mode "default"
	bindsym $mod+x exec --no-startup-id exec i3focuslaunch xfce4-appfinder, mode "default"
	bindsym y exec --no-startup-id exec i3focuslaunch echo, mode "default"
	bindsym z exec --no-startup-id exec i3focuslaunch echo, mode "default"
	
	# passmenu
	bindsym slash exec --no-startup-id exec passmenu, mode "default"
	bindsym Shift+slash exec --no-startup-id exec passmenu --type, mode "default"
	# get OTP codes
	bindsym Control+slash exec --no-startup-id exec passmenu --action otp, mode "default"
	bindsym Control+Shift+slash exec --no-startup-id exec passmenu --action otp --type, mode "default"
}
# ====================
# Notifications
# ====================

# notification with player info
bindsym Control+$mod+p exec --no-startup-id \
	notify-send "$(playerctl metadata title)" "by $(playerctl metadata artist)\non $(playerctl metadata album)" \
	--icon $(playerctl metadata mpris:artUrl) --app-name playerctl --category=i3-info

# notification with all sensor data
bindsym Control+$mod+s exec --no-startup-id \
	notify-send Temperature "$(sensors | grep -v +0 | egrep -o '\+.+°C.')" \
	--app-name sensors --category=i3-info

# notification with disk information
bindsym $mod+Control+d exec --no-startup-id \
	notify-send "Disk Usage:" "$(grc --colour=on df -h -T -x tmpfs \
	| ansifilter -M -f --map $HOME/.local/lib/ansifilter/solarized)" \
	--icon harddrive --app-name df --category=i3-info

# notification with CPU usage information
bindsym Control+$mod+x exec --no-startup-id \
	notify-send "CPU Usage:" "$(mpstat -P ALL | tail -n +3 | cut -c 14-48 )" \
	--icon indicator-cpufreq --app-name mpstat --category=i3-info

# notification with IP information
bindsym Control+$mod+i exec --no-startup-id \
	notify-send "IP" "$(grc --colour=on ip route | ansifilter -M -f --map $HOME/.local/lib/ansifilter/solarized)" \
	--icon network-transmit-receive --app-name "Address" --category=i3-info
