
# =======================================================
# Media controls (volume, play/pause, change track, etc.)
# =======================================================

# Skip Forward/backwards
bindsym XF86AudioPrev exec playerctl previous && pkill -RTMIN+11 i3blocks
bindsym $mod+Prior exec --no-startup-id playerctl previous && pkill -RTMIN+11 i3blocks
bindsym $mod+KP_Prior exec --no-startup-id playerctl previous && pkill -RTMIN+11 i3blocks
bindsym $mod+button8 --whole-window exec --no-startup-id playerctl previous && pkill -RTMIN+11 i3blocks

bindsym XF86AudioNext exec playerctl next && pkill -RTMIN+11 i3blocks
bindsym $mod+Next exec --no-startup-id playerctl next && pkill -RTMIN+11 i3blocks
bindsym $mod+KP_Next exec --no-startup-id playerctl next && pkill -RTMIN+11 i3blocks
bindsym $mod+button9 --whole-window exec --no-startup-id playerctl next && pkill -RTMIN+11 i3blocks

# Play/Pause
bindsym XF86AudioPlay exec playerctl play-pause && pkill -RTMIN+11 i3blocks
bindsym $mod+End exec --no-startup-id playerctl play-pause && pkill -RTMIN+11 i3blocks
bindsym $mod+KP_End exec --no-startup-id playerctl play-pause && pkill -RTMIN+11 i3blocks
bindsym $mod+button2 --whole-window exec --no-startup-id playerctl play-pause && pkill -RTMIN+11 i3blocks

# Seek using $mod+Shift+mousewheel 2 seconds at a time
bindsym $mod+Shift+button5 --whole-window exec --no-startup-id playerctl position 2-
bindsym $mod+Shift+button4 --whole-window exec --no-startup-id playerctl position 2+

# Volume changes also force an i3status refresh

# Small volume changes
bindsym XF86AudioLowerVolume exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-1024"
bindsym $mod+KP_Subtract exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-1024"
bindsym $mod+minus exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-1024"
bindsym $mod+button5 --whole-window exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-512"

bindsym XF86AudioRaiseVolume exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+1024"
bindsym $mod+KP_Add exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+1024"
bindsym $mod+plus exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+1024"
bindsym $mod+button4 --whole-window exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+512"

# Large volume chages
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-8192"
bindsym $mod+Shift+KP_Subtract exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-8192"
bindsym $mod+Shift+minus exec --no-startup-id \
$HOME/.local/bin/i3volumectl "-8192"

bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+8192"
bindsym $mod+Shift+KP_Add exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+8192"
bindsym $mod+Shift+plus exec --no-startup-id \
$HOME/.local/bin/i3volumectl "+8192"

# Mute toggle
bindsym $mod+KP_Decimal exec --no-startup-id \
$HOME/.local/bin/i3volumectl
bindsym $mod+KP_Delete exec --no-startup-id \
$HOME/.local/bin/i3volumectl 
bindsym XF86AudioMute exec --no-startup-id \
$HOME/.local/bin/i3volumectl 

# i3-input to set volume to any%
bindsym Shift+XF86AudioMute exec --no-startup-id i3-input \
-F 'exec --no-startup-id $HOME/.local/bin/i3volumectl %s' -P 'Set volume:'

# notification with player info
bindsym Control+$mod+p exec --no-startup-id \
notify-send "$(playerctl metadata title)" "by $(playerctl metadata artist)\non $(playerctl metadata album)" -i $(playerctl metadata mpris:artUrl)
